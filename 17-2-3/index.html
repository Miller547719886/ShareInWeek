<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div>
		<p>如图：有一个字符串 str，和一个空对象obj，把他变成如下格式。</p>
		<img src="./img/1.png">
	</div>
	<input type="" name="">
	<button>ok</button>
	<div class="res"></div>
	<script type="text/javascript">
		//q1
		(function() {
			var ipt = document.getElementsByTagName('input')[0],
				btn = document.getElementsByTagName('button')[0],
				div = document.getElementsByClassName('res')[0],
				obj = {};
			document.addEventListener('keyup', function(e) {
				if (e.keyCode === 13) {
					btn.click();
				}
			});

			btn.addEventListener('click', function(e) {
				var temp;
				obj = temp = {};
				var v = ipt.value;
				if (v === "") {
					div.innerHTML = ('no input!');
				} else {
					var arr = v.split(/[., _]/);
					console.log(arr);
					for (var i = 0; i < arr.length; i++) {
						temp[arr[i]] = {};
						temp = temp[arr[i]];
					}
					div.innerHTML = ('obj = ' + JSON.stringify(obj));
				}
			});
		}());
		//q2
		(function(log) {
			var theThing = null;
			var replaceThing = function() {
				var originalThing = theThing;
				var unused = function() {
					if (originalThing) {
						console.log('hi');
					}
				}

				theThing = {
					longStr: new Array(1000000).join('*'),
					someMethod: function() {
						console.log(someMessage);
					}
				};
			};
			setInterval(replaceThing, 1000);
		}(window.console.log));
	</script>
</body>
</html>